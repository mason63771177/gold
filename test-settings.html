<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¾ç½®æŒ‰é’®æµ‹è¯•</title>
</head>
<body>
    <h1>è®¾ç½®æŒ‰é’®åŠŸèƒ½æµ‹è¯•</h1>
    <p>æ­£åœ¨è‡ªåŠ¨æµ‹è¯•è®¾ç½®æŒ‰é’®åŠŸèƒ½...</p>
    <div id="test-results"></div>
    
    <script>
        // ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆåæ‰§è¡Œæµ‹è¯•
        window.onload = function() {
            setTimeout(function() {
                // æ‰“å¼€ä¸»é¡µé¢è¿›è¡Œæµ‹è¯•
                var iframe = document.createElement('iframe');
                iframe.src = 'index.html';
                iframe.style.width = '100%';
                iframe.style.height = '600px';
                iframe.style.border = '1px solid #ccc';
                document.body.appendChild(iframe);
                
                // ç­‰å¾…iframeåŠ è½½å®Œæˆ
                iframe.onload = function() {
                    setTimeout(function() {
                        try {
                            var iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                            var settingsBtn = iframeDoc.querySelector('.settings-btn');
                            var resultsDiv = document.getElementById('test-results');
                            
                            if (settingsBtn) {
                                resultsDiv.innerHTML += '<p style="color: green;">âœ… æ‰¾åˆ°è®¾ç½®æŒ‰é’®</p>';
                                
                                // æ¨¡æ‹Ÿç‚¹å‡»
                                settingsBtn.click();
                                resultsDiv.innerHTML += '<p style="color: blue;">ğŸ”„ å·²æ¨¡æ‹Ÿç‚¹å‡»è®¾ç½®æŒ‰é’®</p>';
                                
                                // æ£€æŸ¥è®¾ç½®é¢æ¿æ˜¯å¦æ‰“å¼€
                                setTimeout(function() {
                                    var settingsModal = iframeDoc.getElementById('settingsModal');
                                    if (settingsModal && settingsModal.style.display !== 'none') {
                                        resultsDiv.innerHTML += '<p style="color: green;">âœ… è®¾ç½®é¢æ¿æˆåŠŸæ‰“å¼€ï¼</p>';
                                        resultsDiv.innerHTML += '<p style="font-weight: bold;">ğŸ‰ è®¾ç½®æŒ‰é’®åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼</p>';
                                    } else {
                                        resultsDiv.innerHTML += '<p style="color: red;">âŒ è®¾ç½®é¢æ¿æœªèƒ½æ‰“å¼€</p>';
                                    }
                                }, 500);
                            } else {
                                resultsDiv.innerHTML += '<p style="color: red;">âŒ æœªæ‰¾åˆ°è®¾ç½®æŒ‰é’®</p>';
                            }
                        } catch (e) {
                            document.getElementById('test-results').innerHTML += '<p style="color: red;">âŒ æµ‹è¯•å‡ºé”™: ' + e.message + '</p>';
                        }
                    }, 1000);
                };
            }, 1000);
        };
    </script>
</body>
</html>